html,body{margin:0;padding:0;height:100%;background:var(--bg-color);overflow:hidden;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--primary-text)}:root{--bg-color: #0b0b16;--card-bg: rgba(16, 10, 24, .82);--card-border: rgba(255, 214, 143, .18);--primary-text: #fdf5e7;--secondary-text: #d2c3ad;--pip-active: #f7b64a;--pip-used: #3c3046;--accent-gold: #f8c76b;--accent-rose: #c06b6b;--accent-plum: #2a2038}#app{position:relative;width:100%;height:100%;display:grid;grid-template-rows:auto 1fr}#stage{position:relative;width:100%;height:100%;overflow:hidden}#hud{position:relative;color:var(--primary-text);background:var(--card-bg);padding:calc(env(safe-area-inset-top,0px) + 10px) calc(env(safe-area-inset-right,0px) + 16px) 12px calc(env(safe-area-inset-left,0px) + 16px);border-radius:0 0 14px 14px;border:1px solid var(--card-border);box-shadow:0 0 10px #f8c76b38,0 0 18px #c06b6b2e;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);-webkit-user-select:none;user-select:none;z-index:10;width:100%;box-sizing:border-box;display:flex;flex-wrap:wrap;gap:14px;align-items:center}#hud .row{display:flex;gap:10px;align-items:center;margin:0}#hud .label{opacity:.8;font-size:14px;color:var(--secondary-text)}#hud b{font-size:24px;color:var(--primary-text)}#hud button{cursor:pointer;border:1px solid rgba(248,199,107,.4);background:#783a3a59;color:var(--primary-text);padding:8px 14px;border-radius:10px;font-size:14px;transition:transform .15s ease,background-color .15s ease,box-shadow .15s ease}#hud button:hover{box-shadow:0 0 8px #f8c76b59}#hud button:disabled{opacity:.5;cursor:default}#hud button:active{transform:translateY(1px)}#hud .pips{display:flex;gap:4px;margin-left:4px}#hud .pip{width:10px;height:10px;border-radius:50%;background:var(--pip-active);opacity:.9}#hud .pip.used{background:var(--pip-used);opacity:.5}@keyframes pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.5);opacity:.6}to{transform:scale(1);opacity:1}}.pulse{animation:pulse .5s ease-out forwards}@keyframes slideIn{0%{transform:translate(50%);opacity:0}to{transform:translate(0);opacity:1}}.slide-in{animation:slideIn .5s ease-out forwards}#toast{position:absolute;bottom:env(safe-area-inset-bottom,14px);left:50%;transform:translate(-50%);background:#0000008c;padding:8px 14px;border-radius:999px;opacity:0;transition:opacity .15s ease;pointer-events:none;-webkit-user-select:none;user-select:none;z-index:11;white-space:nowrap}canvas{display:block}#startPanel{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:radial-gradient(circle at top,rgba(248,199,107,.08),transparent 55%),linear-gradient(180deg,#0e0a18,#1b142a);color:#f9fafb;z-index:30;padding:20px;text-align:center;overflow:hidden}#startPanel:before{content:"";position:absolute;top:-40%;right:-40%;bottom:-40%;left:-40%;background:repeating-linear-gradient(135deg,#f8c76b0f 0,#f8c76b0f 16px,#c06b6b0a 16px,#c06b6b0a 32px);opacity:.35;transform:rotate(-6deg);pointer-events:none}#startPanel:after{content:"";position:absolute;top:15%;left:50%;width:460px;height:460px;transform:translate(-50%);background:conic-gradient(from 0deg,#f8c76b2e,#f8c76b00,#f8c76b1f,#f8c76b00);opacity:.35;mix-blend-mode:screen;pointer-events:none}#startPanel h1{font-size:48px;margin:0 0 8px;letter-spacing:2px;font-weight:700;animation:float 4s ease-in-out infinite;text-shadow:0 0 12px rgba(248,199,107,.45),0 0 24px rgba(248,199,107,.2);position:relative;z-index:1}#startPanel p{font-size:16px;margin:4px 0;opacity:.9;position:relative;z-index:1}#startPanel button{margin-top:20px;padding:12px 24px;font-size:18px;border-radius:12px;border:1px solid rgba(248,199,107,.5);background:#783a3a8c;color:#f9fafb;cursor:pointer;transition:transform .15s ease;position:relative;z-index:1}#startPanel button:hover{transform:scale(1.05)}#startPanel button:active{transform:scale(.95)}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-12px)}}@keyframes pop{0%{transform:scale(1)}40%{transform:scale(1.35)}60%{transform:scale(.92)}to{transform:scale(1)}}.pop{animation:pop .5s cubic-bezier(.25,1.5,.5,1) forwards}#lbPanel,#summaryPanel{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#120c1ae0;padding:16px;border-radius:12px;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);max-width:320px;width:90%;max-height:70%;overflow-y:auto;color:#f9fafb;z-index:20;display:none}#lbPanel h2,#summaryPanel h2{margin-top:0;margin-bottom:8px;font-size:18px;text-align:center}#lbPanel ul,#summaryPanel ul{list-style:none;padding:0;margin:0}#lbPanel li,#summaryPanel li{margin:4px 0;display:flex;justify-content:space-between;font-size:14px}#lbPanel button,#summaryPanel button{margin-top:10px;width:100%;padding:6px 10px;font-size:14px;border:1px solid rgba(248,199,107,.35);background:#783a3a4d;color:#e5e7eb;border-radius:8px;cursor:pointer}#lbPanel button:active,#summaryPanel button:active{transform:translateY(1px)}
